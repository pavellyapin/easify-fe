<!-- eslint-disable @angular-eslint/template/prefer-ngsrc -->
<!-- eslint-disable @angular-eslint/template/cyclomatic-complexity -->
<!-- eslint-disable @angular-eslint/template/button-has-type -->
<!-- eslint-disable @angular-eslint/template/use-track-by-function -->
<!-- eslint-disable @angular-eslint/template/prefer-control-flow -->
<!-- Main content and placeholder column container -->
<!-- Main content and placeholder column container -->
<!-- Main content and placeholder column container -->
<!-- Main content and placeholder column container -->
<div class="main-with-side">
  <!-- Main content: courses and banners -->
  <div class="main-content">
    <!-- Search Box Section -->
    <div class="search-box-container primary-search-box">
      <mat-form-field appearance="outline" i18n-appearance>
        <mat-icon i18n matPrefix>search</mat-icon>
        <input
          matInput
          placeholder="What do you like to learn?"
          aria-label="What do you like to learn?"
          i18n-aria-label
          i18n-placeholder
        />
      </mat-form-field>
    </div>
    <!-- Started Courses Section -->
    <div class="courses-section">
      <h5 i18n>Started Courses</h5>

      <!-- Loading state with card skeletons -->
      <div *ngIf="isLoadingCombinedCourses; else startedCoursesContent">
        <app-loading-carousel />
      </div>

      <!-- Courses content when loading is finished -->
      <ng-template #startedCoursesContent>
        <div *ngIf="combinedCourses as startedCourses">
          <div *ngIf="startedCourses.length">
            <!-- Use the app-courses-carousel component -->
            <app-courses-carousel [courses]="startedCourses" />
          </div>
        </div>
      </ng-template>
    </div>
  </div>

  <div *ngIf="!isTablet" class="side-content">
    <div class="tracker-and-actions">
      <app-course-tracker [challenge]="firstIncompleteChallenge" />
      <app-suggested-action
        *ngIf="!isTablet"
        [title]="'Suggested Actions'"
        [actions]="[
          {
            title: 'Complete Module 1',
            subtext: 'Get started with basics',
            buttonText: 'Start Now',
            callback: completeModule,
          },
          {
            title: 'Review Quiz Results',
            subtext: 'Check where you went wrong',
            buttonText: 'Review',
            callback: completeModule,
          },
        ]"
      />
    </div>
  </div>
</div>
<!-- Hero Banner Section -->
<div class="hero-and-actions">
  <div class="hero-banner">
    <div class="hero-content">
      <h5 i18n>Explore More Courses and Unlock New Skills</h5>
      <p i18n>
        Join our growing community and enhance your knowledge with personalized
        learning paths.
      </p>

      <!-- CTA Buttons -->
      <div class="cta-buttons">
        <button mat-flat-button class="primary-stroked-md-button" i18n>
          Get Started
        </button>
        <button mat-stroked-button class="primary-full-md-button" i18n>
          Learn More
        </button>
      </div>
    </div>

    <!-- Illustration on the right -->
    <div class="hero-illustration">
      <img
        src="assets/illustrations/courses-hero.svg"
        alt="Illustration"
        i18n-alt
      />
    </div>
  </div>
  <div *ngIf="isTablet">
    <app-course-tracker [challenge]="firstIncompleteChallenge" />
    <app-suggested-action
      [actions]="[
        {
          title: 'Complete Module 1',
          subtext: 'Get started with basics',
          buttonText: 'Start Now',
          callback: completeModule,
        },
        {
          title: 'Review Quiz Results',
          subtext: 'Check where you went wrong',
          buttonText: 'Review',
          callback: completeModule,
        },
      ]"
    />
  </div>
</div>
<app-all-courses />
