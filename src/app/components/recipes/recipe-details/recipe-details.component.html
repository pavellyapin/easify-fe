<!-- eslint-disable @angular-eslint/template/button-has-type -->
<!-- eslint-disable @angular-eslint/template/no-call-expression -->
<!-- eslint-disable @angular-eslint/template/no-interpolation-in-attributes -->
<!-- eslint-disable @angular-eslint/template/prefer-ngsrc -->
<!-- eslint-disable @angular-eslint/template/use-track-by-function -->
<!-- eslint-disable @angular-eslint/template/prefer-control-flow -->
<mat-toolbar color="primary">
  <span class="spacer"></span>
  <button mat-icon-button [matMenuTriggerFor]="recipesMenu">
    <mat-icon i18n>favorite</mat-icon>
  </button>
  <mat-menu #recipesMenu="matMenu">
    <button i18n mat-menu-item>Send Shopping list</button>
    <button i18n mat-menu-item (click)="markAsFavorite()">
      Add to favorites
    </button>
  </mat-menu>
</mat-toolbar>
<div *ngIf="recipe$ | async as recipe" class="recipe-detail-container">
  <!-- Recipe Details Section -->
  <h1>{{ recipe.name }}</h1>
  <img class="recipe-image" [src]="recipe.image" alt="{{ recipe.name }}" />

  <p>
    <strong i18n>Description:</strong>
    {{ recipe.description }}
  </p>
  <p>
    <strong i18n>Cuisine:</strong>
    {{ recipe.cuisine }}
  </p>
  <p>
    <strong i18n>Category:</strong>
    {{ recipe.category }}
  </p>
  <p>
    <strong i18n>Difficulty:</strong>
    {{ recipe.difficulty }}
  </p>
  <p>
    <strong i18n>Servings:</strong>
    {{ recipe.servings }}
  </p>
  <p>
    <strong i18n>Prep Time:</strong>
    {{ recipe.prepTime }}
  </p>
  <p>
    <strong i18n>Cook Time:</strong>
    {{ recipe.cookTime }}
  </p>
  <p>
    <strong i18n>Total Time:</strong>
    {{ recipe.totalTime }}
  </p>

  <!-- Ingredients Section -->
  <h2 i18n>Ingredients</h2>
  <ul>
    <li *ngFor="let ingredient of recipe.ingredients">
      {{ ingredient.quantity }} - {{ ingredient.name }}
    </li>
  </ul>

  <!-- Instructions Section -->
  <h2 i18n>Instructions</h2>
  <ol>
    <li *ngFor="let instructions of recipe.instructions">
      {{ instructions.name }}
      <ul>
        <li *ngFor="let step of instructions.steps">
          {{ step }}
        </li>
      </ul>
    </li>
  </ol>

  <!-- Keywords Section -->
  <h2 i18n>Keywords</h2>
  <p>{{ recipe.tags.join(", ") }}</p>

  <!-- Related Recipes Carousel -->
  <h2 i18n>Related Recipes</h2>
  <ngx-slick-carousel
    #slickModal="slick-carousel"
    class="carousel"
    [config]="slideConfig"
  >
    <div
      *ngFor="let relatedRecipe of relatedRecipes"
      ngxSlickItem
      class="slide"
    >
      <img [src]="relatedRecipe.image" alt="{{ relatedRecipe.name }}" />
      <h3>{{ relatedRecipe.name }}</h3>
      <p>{{ relatedRecipe.description }}</p>
    </div>
  </ngx-slick-carousel>
</div>
