<!-- eslint-disable @angular-eslint/template/button-has-type -->
<!-- eslint-disable @angular-eslint/template/no-interpolation-in-attributes -->
<!-- eslint-disable @angular-eslint/template/prefer-ngsrc -->
<!-- eslint-disable @angular-eslint/template/prefer-control-flow -->
<div class="stats-container">
  <!-- Recipe Image with Blurred Bottom Effect -->
  <div class="item-img-container">
    <img
      *ngIf="recipe.image"
      class="item-image"
      [src]="recipe.image"
      alt="{{ recipe.name }}"
    />
    <div class="img-blur-overlay"></div>
  </div>

  <ng-container *ngIf="!isMobile && !isTablet; else recipeOverview">
    <!-- Title and Subtext -->
    <div class="details">
      <p i18n>
        This recipe was crafted to bring you a delightful culinary experience,
        combining the freshest ingredients with easy-to-follow instructions.
        Perfect for any occasion, itâ€™s designed to be both nutritious and
        delicious.
      </p>
    </div>
  </ng-container>

  <ng-template #recipeOverview>
    <!-- Recipe Name -->
    <h3>{{ recipe?.name }}</h3>

    <!-- Recipe Overview -->
    <p>{{ recipe?.description }}</p>
  </ng-template>

  <!-- Start Button -->
  <div class="button-container">
    <button
      mat-flat-button
      class="primary-full-lg-button"
      (click)="initializeOrUpdateProgress()"
      i18n
    >
      Start Recipe
    </button>
  </div>

  <!-- Column of 4 rows with icon and text -->
  <div class="stats-rows scrollable-row">
    <span class="stat-row">
      <mat-icon [svgIcon]="recipe.level" />
      <p>{{ recipe.level | capitalize }}</p>
    </span>
    <span class="stat-row">
      <mat-icon svgIcon="receipt-item" />
      <p i18n>{{ ingredientsCount }} ingredients</p>
    </span>
    <span class="stat-row">
      <mat-icon svgIcon="alarm" />
      <p i18n>{{ recipe.totalTime }}</p>
    </span>
    <span class="stat-row">
      <mat-icon svgIcon="global" />
      <p>{{ recipe.cuisine | capitalize }}</p>
    </span>
    <span class="stat-row">
      <mat-icon svgIcon="people" />
      <p i18n>{{ recipe.servings }} Servings</p>
    </span>
  </div>

  <app-suggested-action
    [actions]="[
      {
        title: 'Not sure where to start?',
        subtext: 'Explore other recipes to inspire your meal planning',
        buttonText: 'Generate recipe ideas',
        callback: completeModule,
      },
    ]"
  />
</div>
