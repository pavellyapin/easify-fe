<!-- eslint-disable @angular-eslint/template/use-track-by-function -->
<!-- eslint-disable @angular-eslint/template/click-events-have-key-events -->
<!-- eslint-disable @angular-eslint/template/interactive-supports-focus -->
<!-- eslint-disable @angular-eslint/template/no-call-expression -->
<!-- eslint-disable @angular-eslint/template/prefer-control-flow -->
<!-- Recipe Navigation Template -->
<ng-container *ngIf="!loading; else loadingRecipeNavTemplate">
  <div class="recipe-nav-container">
    <div class="recipe-section" [ngClass]="{ expanded: true }">
      <!-- Preparation Title with Icon -->
      <p class="section-title">
        <mat-icon
          class="toggle-icon"
          [svgIcon]="getPrepIcons() || 'more-horiz'"
        />
        <span i18n class="section-text">Prepare</span>
      </p>

      <!-- Expanded Preparation Steps -->
      <div class="section-content">
        <ul class="steps-list">
          <li
            *ngFor="let step of routine.prepare; let j = index"
            class="step-item"
          >
            <caption class="step-text">
              <span>{{ step.name }}</span>
              <span>{{ step.duration }}</span>
            </caption>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="recipe-nav-container">
    <div class="recipe-section" [ngClass]="{ expanded: true }">
      <!-- Cooking Title with Icon -->
      <p class="section-title">
        <mat-icon
          class="toggle-icon"
          [svgIcon]="getStepIcon() || 'more-horiz'"
        />
        <span i18n class="section-text">Cook</span>
      </p>

      <!-- Expanded Cooking Steps -->
      <div class="section-content">
        <ul class="steps-list">
          <li
            *ngFor="let step of routine.instructions; let j = index"
            class="step-item"
          >
            <caption class="step-text">
              <span>{{ step.name }}</span>
              <span>{{ step.duration }}</span>
            </caption>
          </li>
        </ul>
      </div>
    </div>
  </div>
</ng-container>

<ng-template #loadingRecipeNavTemplate>
  <app-loading-nav />
</ng-template>
